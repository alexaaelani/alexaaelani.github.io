<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Nave Espacial Personalizada</title>

<style>
  body { 
    background: black; 
    background: url("Fondo56.jpg") no-repeat center center fixed;
    background-size: cover;
    margin: 0; 
    overflow: hidden; 
    color: white; 
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; 
  }

  canvas {
    display: block;
    margin: auto;
    background: transparent; 
  }

  #controles {
    position: fixed;
    top: 15px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.5);
    padding: 10px 20px;
    border: 1px solid #444;
    border-radius: 10px;
    font-size: 14px;
    text-align: center;
  }
</style>

</head>
<body>


<div id="controles">
  Presiona ↩︎ ↪︎ (Flechitas) = Girar Nave &nbsp;&nbsp;|&nbsp;&nbsp; Presiona ⎵ (Espacio) = Acelerar ⚡
</div>


<canvas id="space"></canvas>


<script>
const canvas = document.getElementById("space");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let ship = {
  x: canvas.width / 4,
  y: canvas.height / 4,
  angle: 0,
  speed: 0,
  vx: 0,
  vy: 0,
  thrust: 0.05,
  friction: 0.99,
  maxSpeed: 6
};

let keys = {};
let shipImg = new Image();
shipImg.src = "Navecita.png";

function drawShip() {
  ctx.save();
  ctx.translate(ship.x, ship.y);
  ctx.rotate(ship.angle);
  ctx.drawImage(shipImg, -20, -20, 70, 70);

  if (keys[" "] && ship.speed < ship.maxSpeed) {
    ctx.beginPath();
    ctx.moveTo(-15, 7);
    ctx.lineTo(-30 - Math.random() * 10, 17);
    ctx.lineTo(-15, 27);
    ctx.closePath();
    ctx.fillStyle = "orange";
    ctx.fill();
  }

  ctx.restore();
}

const stars = Array.from({length: 200}, () => ({
  x: Math.random() * canvas.width,
  y: Math.random() * canvas.height,
  size: Math.random() * 2
}));

function drawStars() {
  ctx.fillStyle = "white";
  stars.forEach(s => {
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2);
    ctx.fill();
  });
}

function update() {
  if (keys["ArrowLeft"]) ship.angle -= 0.08;
  if (keys["ArrowRight"]) ship.angle += 0.08;
  if (keys[" "]) {
    ship.vx += Math.cos(ship.angle) * ship.thrust;
    ship.vy += Math.sin(ship.angle) * ship.thrust;
  }

  ship.vx *= ship.friction;
  ship.vy *= ship.friction;

  ship.x += ship.vx;
  ship.y += ship.vy;

  if (ship.x > canvas.width) ship.x = 0;
  if (ship.x < 0) ship.x = canvas.width;
  if (ship.y > canvas.height) ship.y = 0;
  if (ship.y < 0) ship.y = canvas.height;
}

function loop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  drawStars();
  update();
  drawShip();
  requestAnimationFrame(loop);
}

document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

loop();
</script>

</body>
</html>
